/* モバイルレイアウト最適化 - 余白を最小化して表示領域を最大化 */

@media (max-width: 768px) {
  /* メインコンテンツの余白を最小化 */
  main {
    padding: 0.5rem !important;
  }
  
  .article-main {
    margin: 1rem auto !important;
    padding: 0 0.5rem !important;
  }
  
  .article-body {
    padding: 1.5rem 0.75rem !important;
    margin: 0 !important;
  }
  
  /* 記事コンテンツの余白を最小化 */
  .article-content {
    padding: 0 !important;
    margin: 0 !important;
  }
  
  /* 見出しの余白を調整して幅いっぱいに */
  .article-content h2 {
    margin: 2rem -0.75rem 1rem !important; /* 左右を画面端まで拡張 */
    padding: 0.75rem 1rem !important;
  }
  
  .article-content h3 {
    margin: 1.5rem -0.75rem 0.75rem !important; /* 左右を画面端まで拡張 */
    padding: 0.5rem 0.75rem !important;
  }
  
  .article-content h4 {
    margin: 1rem -0.75rem 0.5rem !important;
    padding: 0.4rem 0.75rem !important;
  }
  
  /* パラグラフとリストも少し拡張 */
  .article-content p,
  .article-content ul,
  .article-content ol {
    margin: 1rem -0.25rem !important;
    padding: 0 0.25rem !important;
  }
  
  /* 重要なポイントセクションを拡張 */
  .article-content ul li {
    margin: 0.5rem -0.5rem !important;
    padding: 0.3rem 0.5rem !important;
  }
  
  /* データ分析コンポーネントの余白最小化 */
  .horse-number-analysis {
    margin: 1rem -0.75rem !important; /* 親の余白を打ち消して画面端まで使用 */
    padding: 1rem 0.75rem !important;
    background: none !important; /* カード背景を削除 */
    box-shadow: none !important; /* シャドウを削除 */
    border-radius: 0 !important; /* 角丸を削除 */
  }
  
  /* グラフコンテナのカード表示をやめてフラットに */
  .chart-container {
    background: none !important; /* 白背景を削除 */
    padding: 0.25rem 0 !important; /* パディングをさらに最小化 */
    margin: 0.25rem 0 !important;
    box-shadow: none !important;
    border-radius: 0 !important;
    height: 420px !important; /* 高さを少し増やしてY軸ラベル削除の分を補填 */
  }
  
  /* グラフ自体のマージンを最小化 */
  .chart-container canvas {
    margin: 0 !important;
    padding: 0 !important;
  }
  
  /* グラフタイトルを直接表示 */
  .chart-stats {
    padding: 0 !important;
    margin: 0.5rem 0 !important;
  }
  
  .chart-stats h3 {
    background: none !important;
    color: #1f2937 !important;
    font-size: 1.25rem !important;
    margin-bottom: 1rem !important;
  }
  
  .data-table-wrapper,
  .popularity-table-wrapper {
    margin: 0 -0.75rem 1rem !important; /* 画面端まで使用 */
    padding: 1.5rem 0.5rem 1.5rem 1rem !important;
    background: white;
    border-radius: 12px;
  }
  
  /* 浦和記事の特別なセクションを幅いっぱいに */
  .key-insights,
  .strategy-tips,
  .insights-grid {
    margin: 1rem -0.75rem !important; /* 画面端まで拡張 */
    padding: 1rem 0.75rem !important;
  }
  
  /* カードグリッドも最大幅化 */
  .insight-card {
    margin: 0.5rem 0 !important;
    padding: 0.75rem !important;
  }
  
  /* 浦和記事のコース特徴セクションも拡張 */
  .course-features,
  .analysis-section {
    margin: 1rem -0.75rem !important;
    padding: 1rem 0.75rem !important;
  }
  
  /* 表の表示領域を最大化 */
  .table-scroll-container {
    max-width: calc(100vw - 1.5rem) !important; /* 画面幅から最小余白のみ引く */
    margin: 0 !important;
    padding-right: 1rem !important;
  }
  
  .data-table {
    max-width: calc(100vw - 2rem) !important; /* 馬番別成績分析用 */
    margin: 0 -0.5rem !important; /* さらに余白を削減 */
    padding-right: 1rem !important;
  }
  
  /* 表の最小幅を画面サイズに合わせて調整 */
  .urawa-stats-table {
    min-width: calc(100vw - 2rem) !important; /* 切れないように画面幅に合わせる */
  }
  
  .horse-stats-table {
    min-width: calc(100vw - 2rem) !important; /* 切れないように画面幅に合わせる */
  }
  
  /* テーブルセルの幅を調整して収まるようにする */
  .urawa-stats-table th,
  .urawa-stats-table td {
    padding: 0.4rem 0.2rem !important;
    font-size: 0.75rem !important;
    white-space: nowrap;
  }
  
  .horse-stats-table th,
  .horse-stats-table td {
    padding: 0.4rem 0.2rem !important;
    font-size: 0.75rem !important;
    white-space: nowrap;
  }
  
  /* 評価列のスタイルを調整 */
  .evaluation-excellent,
  .evaluation-good,
  .evaluation-average,
  .evaluation-poor {
    padding: 0.15rem 0.4rem !important;
    font-size: 0.65rem !important;
    border-radius: 6px !important;
  }
}

/* 極小画面（iPhone SE等）でさらに最適化 */
@media (max-width: 375px) {
  main {
    padding: 0.25rem !important;
  }
  
  .article-main {
    padding: 0 0.25rem !important;
  }
  
  .article-body {
    padding: 1rem 0.5rem !important;
  }
  
  .data-table-wrapper,
  .popularity-table-wrapper {
    margin: 1rem -0.5rem !important;
    padding: 1rem 0.5rem !important;
  }
  
  .horse-number-analysis {
    margin: 1rem -0.5rem !important;
    padding: 0.5rem !important;
    background: none !important;
    box-shadow: none !important;
  }
  
  /* 極小画面でも他のセクションを幅いっぱいに */
  .article-content h2,
  .article-content h3,
  .article-content h4 {
    margin-left: -0.5rem !important;
    margin-right: -0.5rem !important;
    padding-left: 0.5rem !important;
    padding-right: 0.5rem !important;
  }
  
  .key-insights,
  .strategy-tips,
  .course-features,
  .analysis-section {
    margin: 1rem -0.5rem !important;
    padding: 1rem 0.5rem !important;
  }
  
  .chart-container {
    background: none !important;
    padding: 0.25rem 0 !important;
    margin: 0.25rem 0 !important;
    height: 350px !important;
  }
  
  .table-scroll-container,
  .data-table {
    max-width: calc(100vw - 1rem) !important;
  }
  
  .urawa-stats-table th,
  .urawa-stats-table td,
  .horse-stats-table th,
  .horse-stats-table td {
    padding: 0.3rem 0.15rem !important;
    font-size: 0.7rem !important;
  }
  
  /* 記事ナビゲーションやCTAセクションも幅いっぱいに */
  .article-navigation,
  .article-cta,
  .related-articles,
  .article-tags,
  .back-to-blog {
    margin: 1rem -0.5rem !important;
    padding: 1rem 0.5rem !important;
  }
  
  /* CTAボタンを幅いっぱいに */
  .cta-button {
    width: calc(100% - 1rem) !important;
    max-width: none !important;
    margin: 0.5rem 0.5rem !important;
  }
  
  /* 関連記事グリッドも最大幅化 */
  .related-grid {
    gap: 1rem !important;
    margin: 0 !important;
    grid-template-columns: 1fr !important; /* モバイルでは1列表示で大きく */
  }
  
  .related-card {
    margin: 0 !important;
    padding: 1.5rem 1rem !important; /* パディングを大きく */
    min-height: 120px !important; /* 最小高さを設定 */
    display: flex !important;
    flex-direction: column !important;
    justify-content: space-between !important;
  }
  
  .related-card h4 {
    font-size: 1.1rem !important; /* タイトルを大きく */
    margin-bottom: 0.75rem !important;
    line-height: 1.4 !important;
  }
  
  .related-card p {
    font-size: 0.95rem !important; /* 説明文も少し大きく */
    line-height: 1.5 !important;
    margin: 0 !important;
  }
  
  .distance-badge {
    padding: 0.4rem 0.8rem !important; /* バッジも大きく */
    font-size: 0.9rem !important;
    margin-bottom: 0.75rem !important;
  }
  
  /* 関連記事セクションを特に大きく */
  .related-articles {
    margin: 2rem -0.75rem 1rem !important;
    padding: 2rem 0.75rem 1.5rem !important;
  }
  
  .related-articles h3 {
    font-size: 1.4rem !important;
    margin-bottom: 1.5rem !important;
    text-align: center !important;
    color: #1f2937 !important;
  }
  
  /* ブログカードの画像表示をモバイルで最適化 */
  .blog-card-image {
    height: 180px !important; /* モバイルでは少し低く */
    background: #f8fafc !important;
    border: 1px solid #e2e8f0 !important;
  }
  
  .blog-card-image img {
    object-fit: contain !important;
    padding: 0.5rem !important; /* 少し余白を設けて表示 */
  }
  
  /* ブログカード全体を幅いっぱいに */
  .blog-card {
    margin: 0 -0.75rem 2rem !important;
    padding: 1.5rem 0.75rem !important;
  }
}