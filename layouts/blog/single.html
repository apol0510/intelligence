{{ define "main" }}
<!-- è¨˜äº‹ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
<section class="article-hero">
    <div class="article-hero-content">
        <h1 class="article-title">{{ .Title }}</h1>
        <div class="article-meta">
            <span class="article-date">ğŸ“… {{ .Date.Format "2006å¹´1æœˆ2æ—¥" }}</span>
            <span class="article-author">ğŸ‘¤ {{ .Params.author | default .Site.Params.author }}</span>
            <span class="article-reading-time">â±ï¸ {{ .Params.readingTime | default "5åˆ†ã§èª­ã‚ã‚‹" }}</span>
            {{ range .Params.categories }}
            <span class="article-category-badge">{{ . }}</span>
            {{ end }}
        </div>
    </div>
</section>

<!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
<main class="article-main">
    <article class="article-body">
        {{ if .Params.toc }}
        <!-- ç›®æ¬¡ -->
        <div class="table-of-contents">
            <details open>
                <summary>ğŸ“‹ ç›®æ¬¡</summary>
                {{ .TableOfContents }}
            </details>
        </div>
        {{ end }}

        <!-- è¨˜äº‹æœ¬æ–‡ -->
        <div class="article-content">
            {{ .Content }}
        </div>

        <!-- ã‚¿ã‚° -->
        {{ if .Params.tags }}
        <div class="article-tags">
            <h4>ğŸ·ï¸ ã‚¿ã‚°</h4>
            <div class="tags-list">
                {{ range .Params.tags }}
                <span class="article-tag">{{ . }}</span>
                {{ end }}
            </div>
        </div>
        {{ end }}

        <!-- CTA -->
        <div class="article-cta">
            <div class="cta-content">
                <h3>ğŸ’¡ NANKAN Intelligenceã®AIäºˆæƒ³ã‚’å®Ÿéš›ã«ä½“é¨“ã—ã¦ã¿ã¾ã›ã‚“ã‹ï¼Ÿ</h3>
                <p>æœ¬è¨˜äº‹ã®æ”»ç•¥æ³•ã‚’æ´»ã‹ã—ãŸå®Ÿéš›ã®AIäºˆæƒ³ã‚’ç„¡æ–™ã§ã”æä¾›ã—ã¦ã„ã¾ã™</p>
                <a href="{{ .Site.Params.prediction }}" target="_blank" class="cta-button">
                    ğŸ¯ ç„¡æ–™AIäºˆæƒ³ã‚’è¦‹ã‚‹
                </a>
            </div>
        </div>

        <!-- è¨˜äº‹ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
        <nav class="article-navigation" aria-label="è¨˜äº‹ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³">
            <div class="nav-links">
                {{ with .PrevInSection }}
                <a href="{{ .Permalink }}" class="nav-link prev-link">
                    <span class="nav-direction">â† å‰ã®è¨˜äº‹</span>
                    <span class="nav-title">{{ .Title }}</span>
                </a>
                {{ end }}
                
                {{ with .NextInSection }}
                <a href="{{ .Permalink }}" class="nav-link next-link">
                    <span class="nav-direction">æ¬¡ã®è¨˜äº‹ â†’</span>
                    <span class="nav-title">{{ .Title }}</span>
                </a>
                {{ end }}
            </div>
        </nav>

        <!-- é–¢é€£è¨˜äº‹ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
        <section class="related-articles">
            <h3>ğŸ‡ é–¢é€£è¨˜äº‹</h3>
            <div class="related-grid">
                <!-- ä»–ã®è·é›¢ã®æ”»ç•¥è¨˜äº‹ã‚’æƒ³å®šã—ãŸã‚µãƒ³ãƒ—ãƒ« -->
                <div class="related-card">
                    <div class="distance-badge" style="background: linear-gradient(135deg, #22d3ee 0%, #0ea5e9 100%);">1300m</div>
                    <h4>æµ¦å’Œ1300må®Œå…¨æ”»ç•¥</h4>
                    <p>çŸ­ä¸­è·é›¢æˆ¦ã®ç‰¹å¾´ã¨æ é †åˆ¥æˆç¸¾ãƒ‡ãƒ¼ã‚¿åˆ†æ</p>
                </div>
                
                <div class="related-card">
                    <div class="distance-badge" style="background: linear-gradient(135deg, #a78bfa 0%, #8b5cf6 100%);">1400m</div>
                    <h4>æµ¦å’Œ1400må®Œå…¨æ”»ç•¥</h4>
                    <p>ä¸­è·é›¢æˆ¦ã®æ”»ç•¥æ³•ã¨è„šè³ªåˆ¥é©æ€§åˆ†æ</p>
                </div>
                
                <div class="related-card">
                    <div class="distance-badge" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);">1500m</div>
                    <h4>æµ¦å’Œ1500må®Œå…¨æ”»ç•¥</h4>
                    <p>ãƒã‚¤ãƒ«æˆ¦ã®ç‰¹æ€§ã¨å±•é–‹ãƒ‘ã‚¿ãƒ¼ãƒ³è§£æ</p>
                </div>
                
                <div class="related-card">
                    <div class="distance-badge" style="background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);">2000m</div>
                    <h4>æµ¦å’Œ2000må®Œå…¨æ”»ç•¥</h4>
                    <p>é•·è·é›¢æˆ¦ã®ç‰¹å¾´ã¨ã‚¹ã‚¿ãƒŸãƒŠè©•ä¾¡æ³•</p>
                </div>
            </div>
        </section>

        <!-- ãƒ–ãƒ­ã‚°ä¸€è¦§ã«æˆ»ã‚‹ãƒªãƒ³ã‚¯ -->
        <div class="back-to-blog">
            <a href="/blog/" class="back-link">ãƒ–ãƒ­ã‚°ä¸€è¦§ã«æˆ»ã‚‹</a>
        </div>
    </article>
</main>
{{ end }}

{{ define "head" }}
<!-- Chart.js for data visualization -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
// ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿å¾Œã«ãƒãƒ£ãƒ¼ãƒˆã‚’æç”»
document.addEventListener('DOMContentLoaded', function() {
    // é¦¬ç•ªåˆ¥å‹ç‡ãƒãƒ£ãƒ¼ãƒˆ
    const ctx1 = document.getElementById('postPositionChart');
    if (ctx1) {
        const data = [
            { position: '1', winRate: 14.1 },
            { position: '2', winRate: 5.0 },
            { position: '3', winRate: 11.3 },
            { position: '4', winRate: 8.0 },
            { position: '5', winRate: 12.0 },
            { position: '6', winRate: 15.3 },
            { position: '7', winRate: 7.9 },
            { position: '8', winRate: 9.4 },
            { position: '9', winRate: 7.8 },
            { position: '10', winRate: 5.5 },
            { position: '11', winRate: 5.0 },
            { position: '12', winRate: 17.1 }
        ];
        
        new Chart(ctx1, {
            type: 'bar',
            data: {
                labels: data.map(d => d.position + 'ç•ª'),
                datasets: [{
                    label: 'å‹ç‡ (%)',
                    data: data.map(d => d.winRate),
                    backgroundColor: data.map(d => {
                        if (d.winRate >= 15) return 'rgba(245, 158, 11, 0.8)';
                        if (d.winRate >= 10) return 'rgba(236, 72, 153, 0.8)';
                        return 'rgba(59, 130, 246, 0.8)';
                    }),
                    borderColor: data.map(d => {
                        if (d.winRate >= 15) return 'rgb(245, 158, 11)';
                        if (d.winRate >= 10) return 'rgb(236, 72, 153)';
                        return 'rgb(59, 130, 246)';
                    }),
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: true
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 20,
                        grid: {
                            color: 'rgba(0, 0, 0, 0.1)'
                        }
                    },
                    x: {
                        grid: {
                            color: 'rgba(0, 0, 0, 0.1)'
                        }
                    }
                }
            }
        });
    }
    
    // äººæ°—åˆ¥æˆç¸¾ãƒãƒ£ãƒ¼ãƒˆ
    const ctx2 = document.getElementById('popularityChart');
    if (ctx2) {
        const data = [
            { popularity: '1ç•ªäººæ°—', winRate: 48.5, placeRate: 80.6 },
            { popularity: '2ç•ªäººæ°—', winRate: 16.5, placeRate: 55.3 },
            { popularity: '3ç•ªäººæ°—', winRate: 14.6, placeRate: 49.5 },
            { popularity: '4ç•ªäººæ°—', winRate: 9.7, placeRate: 40.8 },
            { popularity: '5ç•ªäººæ°—', winRate: 2.9, placeRate: 32.0 },
            { popularity: '6ç•ªäººæ°—ä»¥ä¸‹', winRate: 1.5, placeRate: 8.1 }
        ];
        
        new Chart(ctx2, {
            type: 'bar',
            data: {
                labels: data.map(d => d.popularity),
                datasets: [{
                    label: 'å‹ç‡ (%)',
                    data: data.map(d => d.winRate),
                    backgroundColor: 'rgba(254, 202, 202, 0.8)',
                    borderColor: 'rgb(248, 113, 113)',
                    borderWidth: 2
                }, {
                    label: 'è¤‡å‹ç‡ (%)',
                    data: data.map(d => d.placeRate),
                    backgroundColor: 'rgba(167, 243, 208, 0.8)',
                    borderColor: 'rgb(52, 211, 153)',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: true
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 90,
                        grid: {
                            color: 'rgba(0, 0, 0, 0.1)'
                        }
                    },
                    x: {
                        grid: {
                            color: 'rgba(0, 0, 0, 0.1)'
                        }
                    }
                }
            }
        });
    }
});
</script>
{{ end }}